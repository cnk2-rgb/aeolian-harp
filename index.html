<body></body>
<script src="https://unpkg.com/tone"></script>
<script src="https://cdn.jsdelivr.net/gh/netizenorg/netnet-standard-library/build/nn.min.js?v=1"></script>
<script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
<script src="https://algorithmicmusic.online/js/create-spectrum.js"></script>
<script src="https://algorithmicmusic.online/js/create-waveform.js"></script>
<script>
/* global Tone, nn, d3, createWaveform, createSpectrum */
const synth = new Tone.Synth().toDestination()

// function play () {
  
// }

function toggle (e) {
  const check = e.target.checked
  while (check) {
    const frequencies = [440.00, 493.88, 523.25, 587.33, 659.26, 698.46, 783.99, 880]
    const freq = nn.random(frequencies)// random frquency from list
    const dur = 2 // two seconds
    // triggerAttackRelease combines both triggerAttack and triggerRelease into a single method
    synth.triggerAttackRelease(freq, dur)
  }
}

// UI
// nn.create('button')
//   .content('play note')
//   .addTo('body')
//   .on('click', play)

// we've also swapped the button for a checkbox
nn.create('input')
  .addTo('body')
  .set({ type: 'checkbox' })
  .on('change', toggle)

// and added a label for clarity
nn.create('label')
  .content(' toggle on/off')
  .addTo('body')

// // visualizations
// const wave = createWaveform()
// synth.connect(wave)

</script>